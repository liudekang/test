{"version":3,"sources":["utils/request.js","components/Panel/index.js","components/Clock/index.css","pages/home/components/DocLists/index.css","pages/home/index.css","components/Player/index.js","components/Player/MusicList/index.js","components/Clock/index.js","pages/home/components/DocLists/index.js","utils/index.js","pages/home/index.js"],"names":["service","axios","create","timeout","withCredentials","interceptors","request","use","config","console","log","err","Promise","reject","response","status","data","error","Panel","props","children","PanelTopLeftEle","className","panelConfigs","useState","set_currentPageObj","useEffect","pathname","window","location","curArr","routeConfig","routes","filter","item","path","length","renderBreadcrumb","useMemo","Array","isArray","map","Item","key","name","href","defaultProps","module","exports","perimeter","Math","PI","formetTime","val","isNaN","sec","floor","slice","min","TopNav","isInit","set_isInit","isPlay","set_isPlay","playDirection","set_playDirection","Map","currentMusic","set_currentMusic","muTotalTime","set_muTotalTime","muCurTime","set_muCurTime","playTimer","useRef","audioEle","getRandomMusic","document","onmousemove","onmouseup","pauseFn","current","pause","clearInterval","playFn","muEle","play","setInterval","currentTime","duration","getNextMusicFn","url","method","params","sort","format","then","res","fromJS","setTimeout","message","warning","catch","warn","clickNextMusicFn","playPercent","get","classnames","iconfont","iconxunhuan","iconActive","onClick","music_img","play_music_img","src","alt","srcSet","width","height","cx","cy","r","strokeWidth","stroke","fill","strokeDasharray","id","transform","iconsuiji","percent","strokeColor","trailColor","showInfo","style","left","onMouseDown","ev","pagex_0","target","parentNode","getBoundingClientRect","width_ele","offsetWidth","ev1","nowTime","pageX","event","this","ref","padding","resTimer","loginOutFn","change","ctx","querySelector","getContext","deg","times","Date","h","getHours","m","getMinutes","s","getSeconds","get_width","get_height","get_padding","save","clearRect","translate","clock_over_width","clock_inner_width","clock_txt_width","clock_fen_width","clock_miao_width","clock_shi_width","s_arcs","i","rotate","f_arcs","x","sin","y","cos","restore","texts","h_deg","m_deg","s_deg","color","beginPath","strokeStyle","lineWidth","arc","fillStyle","lines","x0","y0","x1","y1","moveTo","lineTo","text","font","textAlign","textBaseline","fillText","lineCap","shadowBlur","shadowColor","rendertimeDiss","tm","oldtime","diffTime","resMode","oldTime","valueOf","diffTimes","now","s_all","round","resStrs","czt","unshift","d","mh","TimeDiffFromNowArr","Home","dataArr","styles","doc_list_wrap","lists_ul","li_items","title","titles","contents","textValue","replace","doc_info","username","createdAt","tags","reqLoading","set_reqLoading","docArr","set_docArr","getBlogListFn","query","Bmob","Query","order","limit","find","spinning","homeWrap","content","slider","calendar_Wrap","fullscreen"],"mappings":"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","file":"static/js/Page-home.8711f25d.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\n// 创建axios实例\r\nconst service = axios.create({\r\n//   baseURL: process.env.BASE_API, // api的base_url\r\n  timeout: 200000, // 请求超时时间\r\n  withCredentials: true, // 选项表明了是否是跨域请求\r\n})\r\nservice.interceptors.request.use(config => {\r\n//   Toast.loading('加载中',1)              // loading组件，显示文字加载中，自动关闭延时1s\r\n  console.log('request go', config);\r\n  return config;\r\n}, err => {\r\n  console.log('请求失败')\r\n  return Promise.reject(err)\r\n})\r\n// 拦截响应\r\nservice.interceptors.response.use(config => {\r\n//   Toast.hide()                             // 销毁Toast组件\r\n  console.log('response get')\r\n  return config;\r\n}, err => {\r\n  console.log('响应失败')\r\n  return Promise.reject(err)\r\n})\r\n\r\n// respone拦截器\r\nservice.interceptors.response.use(\r\n  response => {\r\n    /**\r\n    * code为非000000是抛错 可结合自己业务进行修改\r\n    */\r\n    if (response.status === 200 && response.data) {\r\n      return response.data\r\n    }\r\n    return response\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\nexport default service\r\n","/*\r\n * @Author: mikey.liudekang\r\n * @Date: 2019-09-17 20:58:00\r\n * @Last Modified by: mikey.liudekang\r\n * @Last Modified time: 2019-11-24 20:01:12\r\n */\r\nimport React, { useEffect, useState, useMemo } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Breadcrumb, Dropdown, Button } from 'antd'\r\nimport routeConfig from 'Src/router/routeConfig'\r\n\r\nimport './index.less';\r\n\r\nconst Panel = (props) => {\r\n  // console.log(1333, props, window, routeConfig)\r\n  const { children, PanelTopLeftEle, className, panelConfigs } = props;\r\n  const [currentPageObj, set_currentPageObj] = useState({})\r\n  useEffect(() => {\r\n    const pathname = window.location.pathname;\r\n    const curArr = routeConfig.routes.filter(item => item.path === pathname);\r\n    if (curArr.length) {\r\n      set_currentPageObj(curArr[0])\r\n    }\r\n    // const current = window.Bmob ? window.Bmob.User.current() : null;\r\n    // if (current && typeof current === 'object') {\r\n    //   window.user = current\r\n    //   set_user(current)\r\n    //   set_isLogin(true)\r\n    // }\r\n    // console.log('user===', current)\r\n  }, [set_currentPageObj])\r\n\r\n  const loginOutFn = () => {\r\n    // window.Bmob && window.Bmob.User.logout();\r\n    // set_user({})\r\n    // set_isLogin(false)\r\n    // window.user = null\r\n  }\r\n\r\n  const renderBreadcrumb = useMemo(() => {\r\n    if (Array.isArray(panelConfigs) && panelConfigs.length) {\r\n      return (\r\n        <div className='panel-Breadcrumb-wrap'>\r\n          <Breadcrumb>\r\n            {\r\n              panelConfigs.map(item => (\r\n                <Breadcrumb.Item key={item.name}>{\r\n                  item.path ? <a href={item.path}>{item.name}</a> : item.name\r\n                }\r\n                </Breadcrumb.Item>\r\n              ))\r\n            }\r\n          </Breadcrumb>\r\n        </div>\r\n      )\r\n    } else {\r\n      return null\r\n    }\r\n  }, [panelConfigs])\r\n\r\n  return (\r\n    <div className={'panel_wrapper ' + className}>\r\n      <div className='panel_top'>\r\n        {renderBreadcrumb}\r\n        {PanelTopLeftEle}\r\n      </div>\r\n      <div className='panel_main'>\r\n        {\r\n          children\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\nPanel.propTypes = {\r\n  children: PropTypes.any,\r\n  PanelTopLeftEle: PropTypes.element,\r\n  panelConfigs: PropTypes.array,\r\n  // itemClassName: PropTypes.string,\r\n  // itemRule: PropTypes.array,\r\n\r\n  className: PropTypes.string,\r\n  // placeholder: PropTypes.string,\r\n  // BraftEditorCallBackFn: PropTypes.func,\r\n}\r\nPanel.defaultProps = {\r\n  // itemKey: 'remark',\r\n  // children: '',\r\n  // PanelTopLeftEle: '',\r\n  className: '',\r\n};\r\nexport default Panel\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav_Topper_Wrap\":\"src-components-Clock-index-nav_Topper_Wrap-1n6abHOC\",\"nav_Topper_inner\":\"src-components-Clock-index-nav_Topper_inner-A0xsRTT5\",\"nav_List\":\"src-components-Clock-index-nav_List-1ErR2hqv\",\"nav_Item\":\"src-components-Clock-index-nav_Item-37FNLhOg\",\"login_btn\":\"src-components-Clock-index-login_btn-VDs09nXX\",\"nav_topper_right\":\"src-components-Clock-index-nav_topper_right-3jjRC8it\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"doc_list_wrap\":\"src-pages-home-components-DocLists-index-doc_list_wrap-3NCG2VbV\",\"lists_ul\":\"src-pages-home-components-DocLists-index-lists_ul-3DfxAqp8\",\"li_items\":\"src-pages-home-components-DocLists-index-li_items-2ng50RwF\",\"titles\":\"src-pages-home-components-DocLists-index-titles-1N1jgDo4\",\"contents\":\"src-pages-home-components-DocLists-index-contents-3a41wK6c\",\"doc_info\":\"src-pages-home-components-DocLists-index-doc_info-3YwlHzyP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homeWrap\":\"src-pages-home-index-homeWrap-2NfMD-T5\",\"content\":\"src-pages-home-index-content-r1Um_tUL\",\"title\":\"src-pages-home-index-title-3wMAwfVV\",\"slider\":\"src-pages-home-index-slider-2MvPfmo9\",\"calendar_Wrap\":\"src-pages-home-index-calendar_Wrap-3Z_iA9kC\"};","/*\r\n * @Author: mikey.liudekang\r\n * @Date: 2019-09-17 20:58:00\r\n * @Last Modified by: mikey.liudekang\r\n * @Last Modified time: 2020-07-07 22:24:18\r\n */\r\nimport React, { useEffect, useState, useRef, useMemo } from 'react'\r\nimport { Menu, Dropdown, Button, Progress, message } from 'antd'\r\nimport { fromJS, Map, List } from 'immutable'\r\nimport classnames from 'classnames';\r\nimport service from 'Src/utils/request';\r\n\r\nimport MusicList from './MusicList';\r\n\r\nimport './index.less';\r\n\r\nconst perimeter = Math.PI * 2 * 19;\r\nconst time_interval = 1;\r\n\r\nconst formetTime = (val) => {\r\n  if (!val || isNaN(val)) {\r\n    return '00:00'\r\n  }\r\n  const sec = ('00' + Math.floor(val % 60)).slice(-2);\r\n  const min = ('00' + Math.floor(val / 60)).slice(-2)\r\n\r\n  return `${min}:${sec}`\r\n}\r\n\r\nconst TopNav = () => {\r\n  const [isInit, set_isInit] = useState(true)\r\n  const [isPlay, set_isPlay] = useState(false)\r\n  // loop  ---循环 ;random--随机\r\n  const [playDirection, set_playDirection] = useState('loop')\r\n\r\n  const [currentMusic, set_currentMusic] = useState(Map({}))\r\n  const [muTotalTime, set_muTotalTime] = useState(0)\r\n  const [muCurTime, set_muCurTime] = useState(0)\r\n\r\n  const playTimer = useRef();\r\n  const audioEle = useRef();\r\n  useEffect(() => {\r\n    getRandomMusic()\r\n    return () => {\r\n      document.onmousemove = null;\r\n      document.onmouseup = null;\r\n      pauseFn()\r\n    }\r\n  }, [])\r\n\r\n  // 暂停 \\ 播放按钮\r\n  const changPlayPauseFn = () => {\r\n    set_isInit(false)\r\n    // let percent = 0;\r\n    const muEle = audioEle.current;\r\n    if (!muEle) {\r\n      return console.warn('未找到audio标签');\r\n    }\r\n    // const { duration, currentTime, } = muEle;\r\n    // console.log(4444, duration, currentTime, audioEle.current)\r\n    // muEle.play()\r\n\r\n    if (isPlay) {\r\n      pauseFn()\r\n    } else {\r\n      playFn()\r\n    }\r\n  }\r\n\r\n  //暂停操作\r\n  const pauseFn = () => {\r\n    const muEle = audioEle.current;\r\n    muEle.pause()\r\n    set_isPlay(false);\r\n    clearInterval(playTimer.current)\r\n  }\r\n\r\n  //播放操作\r\n  const playFn = () => {\r\n    const muEle = audioEle.current;\r\n    muEle.play()\r\n    set_isPlay(true)\r\n    clearInterval(playTimer.current)\r\n\r\n    playTimer.current = setInterval(() => {\r\n      console.log(4333, muEle.currentTime);\r\n      set_muCurTime(muEle.currentTime)\r\n      // const { duration, currentTime, } = muEle;\r\n      if (muEle.currentTime >= muEle.duration) {\r\n        clearInterval(playTimer.current)\r\n        getNextMusicFn()\r\n      }\r\n    }, 1000)\r\n  }\r\n\r\n  //获取音乐\r\n  const getRandomMusic = () => {\r\n    service({\r\n      url: '/wyyApi/api/rand.music',\r\n      method: 'get',\r\n      params: {\r\n        // 选择输出分类[热歌榜|新歌榜|飙升榜|抖音榜|电音榜]，为空输出热歌榜\r\n        sort: '热歌榜', // 99121191,\r\n        format: 'json',\r\n      },\r\n    })\r\n      .then(res => {\r\n        console.log(3444, res)\r\n        const muSrc = res?.data?.url;\r\n        if (muSrc) {\r\n          set_currentMusic(fromJS(res?.data))\r\n        }\r\n        // 是否自动播放\r\n        setTimeout(() => {\r\n          const muEle = audioEle.current;\r\n          console.log(3444, res, muEle, muEle.duration)\r\n          if (muEle.duration) {\r\n            set_muTotalTime(muEle.duration)\r\n            if (!isInit) {\r\n              playFn()\r\n            }\r\n          } else {\r\n            message.warning('歌曲获取失败，即将自动获取下一首')\r\n            setTimeout(() => {\r\n              getNextMusicFn()\r\n            }, 100)\r\n          }\r\n        }, 300)\r\n      })\r\n      .catch(err => {\r\n        console.warn(444, err)\r\n      })\r\n  }\r\n\r\n  const clickNextMusicFn = () => {\r\n    set_isInit(false)\r\n    getNextMusicFn()\r\n  }\r\n\r\n  //获取下一首\r\n  const getNextMusicFn = () => {\r\n    set_isPlay(false);\r\n    clearInterval(playTimer.current)\r\n    set_muTotalTime(0)\r\n    set_muCurTime(0)\r\n    getRandomMusic()\r\n  }\r\n\r\n  //播放百分比\r\n  const playPercent = useMemo(() => {\r\n    // console.log('name memo 触发', muTotalTime, muCurTime, muCurTime / muTotalTime)\r\n    if (!muTotalTime || !muTotalTime) {\r\n      return 0\r\n    }\r\n    return muCurTime / muTotalTime // 返回一个函数\r\n  }, [muTotalTime, muCurTime])\r\n\r\n  //拖拽进度条\r\n  const spotMouseDown = (ev) => {\r\n    // const pagex_0 = ev.pageX;\r\n    const pagex_0 = ev.target.parentNode.getBoundingClientRect().left;\r\n\r\n    const width_ele = ev.target.parentNode.offsetWidth;\r\n\r\n    pauseFn()\r\n    // console.log(116, ev.target, ev.target.offsetLeft,\r\n    //   '--', ev.clientX, ev.pageX, ev.movementX, ev.screenX)\r\n    function moveSpotFn(ev1) {\r\n      const pagex_1 = ev1.pageX;\r\n      let nowTime = ((pagex_1 - pagex_0) / width_ele) * muTotalTime;\r\n      if (nowTime <= 0) {\r\n        nowTime = 0\r\n      }\r\n      if (nowTime >= muTotalTime) {\r\n        nowTime = muTotalTime\r\n      }\r\n      // console.log(1222, nowTime, muTotalTime, pagex_1, pagex_0, width_ele)\r\n      const muEle = audioEle.current;\r\n      muEle.currentTime = nowTime\r\n      set_muCurTime(nowTime)\r\n      playFn()\r\n      // const [muTotalTime, set_muTotalTime] = useState(0)\r\n      // const [muCurTime, set_muCurTime] = useState(0)\r\n    }\r\n    document.onmousemove = moveSpotFn\r\n    document.onmouseup = function (event) {\r\n      this.onmousemove = null;\r\n      this.onmouseup = null;\r\n      // console.log(133344)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='player_wrapper'>\r\n      {/* <i className='iconfont iconyinyue'></i> */}\r\n      <div className='player_main'>\r\n        <div className='p_main_info p_main_left'>\r\n          <dl className='music_info_item music_title'>\r\n            <dt className='m_icon'><i className='iconfont iconyinyue'></i> </dt>\r\n            <dd className='m_value'>{currentMusic.get('name')}</dd>\r\n          </dl>\r\n          <dl className='music_info_item music_user'>\r\n            <dt className='m_icon'><i className='iconfont iconuser'></i> </dt>\r\n            <dd className='m_value'>{currentMusic.get('artistsname')}</dd>\r\n          </dl>\r\n          <dl className='music_info_item music_folder'>\r\n            <dt className='m_icon'><i className='iconfont iconwenjianjia'></i> </dt>\r\n            <dd className='m_value'>{currentMusic.get('name')}</dd>\r\n          </dl>\r\n\r\n          <p\r\n            className='m_controlsBtn'>\r\n            <i\r\n              className={classnames({\r\n                iconfont: true,\r\n                iconxunhuan: true,\r\n                iconActive: playDirection === 'loop',\r\n              })}\r\n              onClick={() => set_playDirection('loop')}\r\n            ></i>\r\n            <i className='iconfont iconxiayishou1' onClick={clickNextMusicFn}></i>\r\n          </p>\r\n        </div>\r\n\r\n        <div className='p_main_center'>\r\n          <div\r\n            className={classnames({\r\n              music_img: true,\r\n              play_music_img: isPlay,\r\n            })}\r\n          >\r\n            {/* <img src='/image.png' alt='' srcSet='' /> */}\r\n            <img src={currentMusic.get('picurl')} alt='' srcSet='' />\r\n          </div>\r\n          {/* 播放暂停按钮 */}\r\n          <div className='Play_pause_btns' onClick={changPlayPauseFn}>\r\n            {\r\n              isPlay ? <i className='iconfont iconzanting'></i> : <i className='iconfont iconbofang'></i>\r\n            }\r\n          </div>\r\n          {/* 进度条 */}\r\n          <svg className='Play_pause_progress' width='40' height='40' >\r\n            <circle cx='20' cy='20' r='19' strokeWidth='4' stroke='rgb(108, 105, 113)' fill='black'></circle>\r\n            <circle strokeDasharray={isPlay ? perimeter * playPercent + ' ' + perimeter * (1 - playPercent) : ''} id='c1' cx='20' cy='20' r='19' strokeWidth='4' stroke={isPlay ? 'rgb(129, 195, 0)' : '#f30'} fill='none' transform='matrix(0,-1,1,0,0,40)' ></circle>\r\n          </svg>\r\n        </div>\r\n\r\n        <div className='p_main_info p_main_right'>\r\n          <dl className='music_info_item music_times'>\r\n            <dt className='m_icon'><i className='iconfont icontime'></i> </dt>\r\n            <dd className='m_value'>{formetTime(muCurTime)} / {formetTime(muTotalTime)}</dd>\r\n          </dl>\r\n          <dl className='music_info_item music_types'>\r\n            <dt className='m_icon'><i\r\n              className={classnames({\r\n                iconfont: true,\r\n                iconsuiji: playDirection === 'random',\r\n                iconxunhuan: playDirection === 'loop',\r\n              })}\r\n            ></i> </dt>\r\n            <dd className='m_value'>{playDirection === 'random' ? '随机播放' : '顺序播放'}</dd>\r\n          </dl>\r\n          <dl className='music_info_item music_lirc'>\r\n            <dt className='m_icon'><i className='iconfont iconicon_duihao-mian'></i> </dt>\r\n            <dd className='m_value'>歌词隐藏</dd>\r\n          </dl>\r\n\r\n          <p className='m_controlsBtn'>\r\n            <i className='iconfont iconxiayishou' onClick={clickNextMusicFn}></i>\r\n            <i\r\n              className={classnames({\r\n                iconfont: true,\r\n                iconsuiji: true,\r\n                iconActive: playDirection === 'random',\r\n              })}\r\n              onClick={() => set_playDirection('random')}\r\n            ></i>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='player_footer'>\r\n        <i className='iconfont iconiconfontdaohanggonggao'></i>\r\n        <div className='progress_wrap'>\r\n          <Progress\r\n            className='progress'\r\n            percent={playPercent * 100}\r\n            strokeColor='#81c300'\r\n            trailColor='#818680'\r\n            strokeWidth={5}\r\n            showInfo={false}\r\n          />\r\n          <span\r\n            className='spot'\r\n            style={{ left: playPercent * 100 + '%', }}\r\n            onMouseDown={spotMouseDown}\r\n          ></span>\r\n          <audio ref={audioEle} src={currentMusic.get('url')}> 您的浏览器不支持 audio 元素</audio>\r\n        </div>\r\n\r\n        <i className='iconfont iconxiazai'></i>\r\n        <i className='iconfont iconkaiguanguan'></i>\r\n        <i className='iconfont iconmulu'></i>\r\n      </div>\r\n\r\n      {/* <MusicList callBackCurrentMusic={callBackCurrentMusic}></MusicList> */}\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default TopNav\r\n","/*\r\n * @Author: mikey.liudekang\r\n * @Date: 2019-09-17 20:58:00\r\n * @Last Modified by: mikey.liudekang\r\n * @Last Modified time: 2020-07-05 22:20:35\r\n */\r\nimport React, { useEffect, useState, useRef } from 'react'\r\nimport { Menu, Dropdown, Button, Progress } from 'antd'\r\nimport service from 'Src/utils/request';\r\nimport { fromJS, Map, List } from 'immutable';\r\nimport classnames from 'classnames';\r\n\r\nimport './index.less';\r\n\r\nconst perimeter = Math.PI * 2 * 19;\r\nconst time_interval = 1;\r\n\r\nconst TopNav = (props) => {\r\n  const [curId, set_curId] = useState()\r\n  const [MusicDataList, set_MusicDataList] = useState(List([]))\r\n  const [MusicTotal, set_MusicTotal] = useState(0)\r\n\r\n  const { callBackCurrentMusic, } = props;\r\n\r\n  useEffect(() => {\r\n\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    service({\r\n      url: '/kugouApi/v3/rank/newsong',\r\n      method: 'get',\r\n      params: {\r\n        version: '9108',\r\n        plat: 0,\r\n        with_cover: 1,\r\n        pagesize: 30,\r\n        page: 2,\r\n        type: 3,\r\n        area_code: 1,\r\n\r\n        // with_res_tag: 1,\r\n      },\r\n    })\r\n      .then(res => {\r\n        const musicData = res?.data?.info;\r\n        const musicTotal = res?.data?.total;\r\n        if (Array.isArray(musicData) && musicTotal) {\r\n          set_MusicDataList(fromJS(musicData))\r\n          set_MusicTotal(musicTotal)\r\n        }\r\n        console.log(11, res)\r\n      })\r\n      .catch(err => {\r\n        console.warn(222, err)\r\n      })\r\n  }, [set_MusicDataList])\r\n\r\n  const selectMusicFn = (val) => {\r\n    set_curId(val.get('audio_id'))\r\n    callBackCurrentMusic && callBackCurrentMusic(val)\r\n  }\r\n\r\n  return (\r\n    <div className='music_list_wrapper'>\r\n      <div className='music_list_title'>日韩新歌({MusicTotal})</div>\r\n\r\n      <ul className='list_main'>\r\n        {\r\n          MusicDataList.size && MusicDataList.map((item, index) => (\r\n            <li\r\n              key={item.get('filename')}\r\n              className={classnames({\r\n                'music_item': true,\r\n                'active_musice_item': item.get('audio_id') === curId,\r\n              })}\r\n              onClick={() => selectMusicFn(item)}\r\n            >\r\n              <span className='num_index'>{index + 1}</span>\r\n              <span className='mu_title'>{item.get('filename')}</span>\r\n            </li>\r\n          ))\r\n        }\r\n\r\n      </ul>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default TopNav\r\n","/*\r\n * @Author: mikey.liudekang\r\n * @Date: 2019-09-17 20:58:00\r\n * @Last Modified by: mikey.liudekang\r\n * @Last Modified time: 2019-11-24 20:01:12\r\n */\r\nimport React, { useEffect, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Menu, Dropdown, Button } from 'antd'\r\n\r\nimport styles from './index.css';\r\nimport './index.less';\r\nconst TopNav = (props) => {\r\n  const { width, height, padding, } = props;\r\n  const [isLogin, set_isLogin] = useState(false)\r\n  useEffect(() => {\r\n    // const current = window.Bmob ? window.Bmob.User.current() : null;\r\n    // if (current && typeof current === 'object') {\r\n    //   window.user = current\r\n    //   set_user(current)\r\n    //   set_isLogin(true)\r\n    // }\r\n\r\n    const resTimer = loginOutFn()\r\n    console.log('222222===', props, resTimer)\r\n    return () => {\r\n      clearInterval(resTimer)\r\n    }\r\n  }, [])\r\n\r\n  const loginOutFn = () => {\r\n    change();\r\n    return setInterval(function() {\r\n      change();\r\n    }, 1000);\r\n\r\n    function change() {\r\n      var c = document.querySelector('canvas');\r\n      var ctx = c.getContext('2d');\r\n      var deg = Math.PI / 180;\r\n      var times = new Date();\r\n      var h = times.getHours();\r\n      var m = times.getMinutes();\r\n      var s = times.getSeconds();\r\n      const get_width = width\r\n      const get_height = height\r\n      const get_padding = padding\r\n\r\n      ctx.save();\r\n      // 清空画布\r\n      ctx.clearRect(0, 0, get_width, get_height);\r\n      ctx.translate(get_width / 2, get_height / 2);\r\n\r\n      // x轴，y轴\r\n      // lines(-270, 0, 270, 0, 1, 'black');\r\n      // lines(270, 0, 258, -3, 1, 'black');\r\n      // lines(270, 0, 258, 3, 1, 'black');\r\n\r\n      // lines(0, -270, 0, 270, 1, 'black');\r\n      // lines(0, -270, -3, -258, 1, 'black');\r\n      // lines(0, -270, 3, -258, 1, 'black');\r\n      // 160\r\n      // 205  140\r\n      // 180 120\r\n      // 150 90\r\n      const clock_over_width = get_width / 2 - get_padding;\r\n      const clock_inner_width = clock_over_width - 20;\r\n      const clock_txt_width = clock_inner_width - 20;\r\n\r\n      const clock_fen_width = clock_txt_width +15;\r\n      const clock_miao_width = clock_over_width - 10;\r\n      const clock_shi_width = clock_fen_width - 25;\r\n\r\n      // const clock_plot_shi = clock_fen_width - 10;\r\n\r\n      // 表盘外圈\r\n      s_arcs(0, 0, clock_over_width, 10, 'black');\r\n      // 表盘内圈细线\r\n      s_arcs(0, 0, clock_inner_width, 1, 'black');\r\n\r\n      s_arcs(0, 0, clock_over_width * 0.1, 1, 'black');\r\n\r\n      // 表盘小点——灰色分钟\r\n      for (var i = 0; i < 60; i++) {\r\n        ctx.rotate(6 * deg);\r\n        f_arcs(0, -clock_inner_width, 3, '#ccc');\r\n      }\r\n      // 表盘小点——黑色小时 和数字\r\n      for (var i = 1; i <= 12; i++) {\r\n        ctx.save();\r\n        ctx.rotate(i * 30 * deg);\r\n        f_arcs(0, -clock_inner_width, 5, 'black');\r\n\r\n        var x = clock_txt_width * Math.sin(i * 30 * deg);\r\n        var y = -clock_txt_width * Math.cos(i * 30 * deg);\r\n        ctx.restore();\r\n        texts(i, x, y, 'black');\r\n      }\r\n      // 文字跟着旋转，不是正的\r\n      // for (var i = 0; i < 12; i++) {\r\n      //     ctx.rotate(30 * deg);\r\n      //     f_arcs(0, -clock_inner_width, 7, \"black\");\r\n      //     texts(i + 1, 0, -150, \"black\");\r\n      // };\r\n\r\n      // 时分秒的指针\r\n      h = h < 12 ? h : h - 12;\r\n      var h_deg = (h + m / 60) * 30 * deg;\r\n      var m_deg = (m + s / 60) * 6 * deg;\r\n      var s_deg = s * 6 * deg;\r\n      // 115 100\r\n      ctx.save();\r\n      ctx.rotate(m_deg);\r\n      ctx.lineCap = 'round';\r\n      ctx.shadowBlur = 10;\r\n      ctx.shadowColor = 'black';\r\n      lines(0, clock_fen_width * 0.3, 0, -clock_fen_width, 3, 'black');\r\n\r\n      ctx.restore();\r\n      ctx.save();\r\n      ctx.rotate(h_deg);\r\n      ctx.lineCap = 'round';\r\n      ctx.shadowBlur = 5;\r\n      ctx.shadowColor = 'black';\r\n      lines(0, clock_shi_width * 0.3, 0, -clock_shi_width, 10, 'black');\r\n\r\n      ctx.restore();\r\n      ctx.save();\r\n      ctx.rotate(s_deg);\r\n      ctx.shadowBlur = 8;\r\n      ctx.shadowColor = 'black';\r\n      lines(0, clock_miao_width * 0.3, 0, -clock_miao_width, 1, 'red');\r\n      f_arcs(0, 0, 5, 'red');\r\n      ctx.restore();\r\n\r\n      ctx.restore();\r\n\r\n      // 封装的绘制描边圆的函数\r\n      function s_arcs(x, y, r, width, color) {\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = color;\r\n        ctx.lineWidth = width;\r\n        ctx.arc(x, y, r, 0, 360 * deg);\r\n        ctx.stroke();\r\n      }\r\n      // 封装的绘制填充圆的函数\r\n      function f_arcs(x, y, r, color) {\r\n        ctx.beginPath();\r\n        ctx.fillStyle = color;\r\n        ctx.arc(x, y, r, 0, 360 * deg);\r\n        ctx.fill();\r\n      }\r\n\r\n      // 封装的绘制线的函数\r\n      function lines(x0, y0, x1, y1, width, color) {\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = color;\r\n        ctx.lineWidth = width;\r\n        ctx.moveTo(x0, y0);\r\n        ctx.lineTo(x1, y1);\r\n        ctx.stroke();\r\n      }\r\n      // 封装的绘制文字的函数\r\n      function texts(text, x, y, color) {\r\n        ctx.beginPath();\r\n        ctx.fillStyle = color;\r\n        ctx.font = '23px Microsoft Yahei';\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.fillText(text, x, y);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='xxxx'>\r\n      <canvas width='320' height='320'></canvas>\r\n    </div>\r\n\r\n  )\r\n}\r\nTopNav.propTypes = {\r\n  // 引入prop-types后，使用方式和之前相同\r\n  height: PropTypes.number,\r\n  width: PropTypes.number,\r\n  padding: PropTypes.number,\r\n}\r\nTopNav.defaultProps = {\r\n  height: 320,\r\n  width: 320,\r\n  padding: 40,\r\n}\r\n\r\nexport default TopNav\r\n","/*\r\n * @Author: mikey.liudekang\r\n * @Date: 2019-09-17 20:58:00\r\n * @Last Modified by: mikey.liudekang\r\n * @Last Modified time: 2020-07-26 20:37:33\r\n */\r\nimport React, { useEffect, useState, useMemo } from 'react';\r\n\r\nimport { Button, Calendar } from 'antd';\r\nimport { TimeDiffFromNowArr } from 'Src/utils/index';\r\n\r\nimport styles from './index.css';\r\n \r\n\r\nconst renderDescript = (txt) => {\r\n  return (txt || '').replace(/<[^(><).]*>/g, '')\r\n}\r\n\r\nconst rendertimeDiss = (tm) => {\r\n  const cz = TimeDiffFromNowArr(tm, Date.now(), 'max')\r\n  return cz || '-';\r\n}\r\n\r\nconst Home = (props) => {\r\n\r\n  const [reqLoading, set_reqLoading] = useState(false);\r\n\r\n  const { dataArr } = props;\r\n\r\n  useEffect(() => {\r\n\r\n  }, [])\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className={styles.doc_list_wrap} >\r\n      <ul className={styles.lists_ul}>\r\n        {\r\n          Array.isArray(dataArr) && dataArr.length ?\r\n            dataArr.map(item => (\r\n              <li className={styles.li_items} key={item.title}>\r\n                <h5 className={styles.titles}>{item.title}</h5>\r\n                <div className={styles.contents}>\r\n                  {\r\n                    renderDescript(item.textValue)\r\n                  }\r\n                </div>\r\n                <div className={styles.doc_info}>\r\n                  <span>{item.username}</span>-\r\n                  <span>{rendertimeDiss(item.createdAt)}</span>\r\n                  <span>{item.tags}</span>\r\n                </div>\r\n              </li>\r\n            )) : null\r\n        }\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","\r\n/**\r\n * 传入时间返回与当前时间（或者传入时间）的差值\r\n * @param {oldtime}   传入时间\r\n * @param {diffTime}   对比的时间，默认是当前\r\n * @param {resMode}  返回结果形式 arr 纯数字的数组 max 最大那个时间差\r\n * @back  默认是 时间差组成得到数值\r\n */\r\n\r\nconst TimeDiffFromNowArr = (oldtime, diffTime, resMode) => {\r\n  const oldTime = new Date(oldtime).valueOf();\r\n  const diffTimes = new Date(diffTime).valueOf();\r\n  if (!oldtime || !oldTime) {\r\n    return null\r\n  }\r\n  const nowTime = diffTimes || Date.now();\r\n  const s_all = Math.round((nowTime - oldTime) / 1000);\r\n  const resStrs = [];\r\n  const res = [];\r\n\r\n  const s = s_all % 60;\r\n  let czt = Math.floor(s_all / 60);\r\n  res.unshift(s);\r\n  resStrs.unshift(s + '秒');\r\n  resStrs\r\n\r\n  let m = 0;\r\n  if (czt) {\r\n    m = czt % 60;\r\n    czt = Math.floor(czt / 60);\r\n    res.unshift(m);\r\n    resStrs.unshift(m + '分钟');\r\n  }\r\n\r\n  let h = 0;\r\n  if (czt) {\r\n    h = czt % 24;\r\n    czt = Math.floor(czt / 24);\r\n    res.unshift(h);\r\n    resStrs.unshift(h + '小时');\r\n  }\r\n\r\n  let d = 0;\r\n  if (czt) {\r\n    d = czt % 24;\r\n    czt = Math.floor(czt / 24);\r\n    res.unshift(d);\r\n    resStrs.unshift(d + '天');\r\n  }\r\n  let mh = 0;\r\n  if (czt) {\r\n    mh = czt % 30;\r\n    czt = Math.floor(czt / 30);\r\n    res.unshift(mh)\r\n    res.unshift(mh + '月');\r\n  }\r\n  let y = 0;\r\n  if (czt) {\r\n    y = czt;\r\n    res.unshift(y);\r\n    resStrs.unshift(y + '年');\r\n  }\r\n  if (resMode === 'arr') {\r\n    return res\r\n  } else if (resMode === 'max') {\r\n    return resStrs[0]\r\n  }\r\n  return resStrs\r\n}\r\n\r\nexport {\r\n  TimeDiffFromNowArr\r\n}","/*\r\n * @Author: mikey.liudekang\r\n * @Date: 2019-09-17 20:58:00\r\n * @Last Modified by: mikey.liudekang\r\n * @Last Modified time: 2020-07-26 20:37:33\r\n */\r\nimport React, { useEffect, useState, useMemo } from 'react';\r\n\r\nimport { Button, Calendar, Spin } from 'antd';\r\nimport service from 'Src/utils/request';\r\nimport Player from 'Src/components/Player';\r\nimport Panel from 'Src/components/Panel';\r\nimport Clock from 'Src/components/Clock';\r\nimport DocLists from './components/DocLists';\r\n\r\nimport styles from './index.css';\r\n\r\nconst panelConfigs = [\r\n  {\r\n    name: '首页',\r\n    // path:'/'\r\n  }\r\n];\r\n\r\nconst Home = (props) => {\r\n\r\n  const [reqLoading, set_reqLoading] = useState(false);\r\n  const [docArr, set_docArr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getBlogListFn()\r\n  }, [])\r\n\r\n  const getBlogListFn = (params = {}) => {\r\n    set_reqLoading(true)\r\n    const query = window.Bmob.Query('blogs');\r\n    query.order('-createdAt');\r\n    query.limit(10);\r\n    query.find().then(res => {\r\n      set_reqLoading(res);\r\n      console.log(118, res)\r\n      set_docArr(res)\r\n      setTimeout(() => {\r\n        set_reqLoading(false)\r\n      }, 200)\r\n    });\r\n  }\r\n\r\n  const submitFn = () => {\r\n    service.get('/api/users')\r\n      .then(res => {\r\n        console.log(11, res)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <Panel\r\n      className='page-home-panel-wrap'\r\n      panelConfigs={panelConfigs}\r\n    >\r\n      <Spin spinning={reqLoading}>\r\n        <div className={styles.homeWrap} >\r\n          <div className={styles.content}>\r\n            <DocLists\r\n              dataArr={docArr}\r\n            />\r\n          </div>\r\n\r\n          <div className={styles.slider}>\r\n            <Calendar\r\n              className={styles.calendar_Wrap}\r\n              // headerRender={() => {\r\n              //   return <div>sss</div>\r\n              // }} \r\n              fullscreen={false}\r\n            />\r\n            {/* <img src='https://i.loli.net/2017/08/02/598187babf39e.gif' /> */}\r\n            {/* <img src='/dance.webp' /> */}\r\n            <Clock></Clock>\r\n          </div>\r\n        </div>\r\n      </Spin>\r\n      <Player></Player>\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default Home"],"sourceRoot":""}