(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[8],{259:function(e,a,t){"use strict";var n=t(274),c=t.n(n).a.create({timeout:2e5,withCredentials:!0});c.interceptors.request.use((function(e){return console.log("request go",e),e}),(function(e){return console.log("\u8bf7\u6c42\u5931\u8d25"),Promise.reject(e)})),c.interceptors.response.use((function(e){return console.log("response get"),e}),(function(e){return console.log("\u54cd\u5e94\u5931\u8d25"),Promise.reject(e)})),c.interceptors.response.use((function(e){return 200===e.status&&e.data?e.data:e}),(function(e){return Promise.reject(e)})),a.a=c},321:function(e,a,t){"use strict";var n=t(49),c=t(0),s=t.n(c),r=t(814),l=t(62),i=(t(322),function(e){var a=e.children,t=e.PanelTopLeftEle,i=e.className,o=Object(c.useState)({}),m=Object(n.a)(o,2),u=m[0],f=m[1];Object(c.useEffect)((function(){var e=window.location.pathname,a=l.a.routes.filter((function(a){return a.path===e}));a.length&&f(a[0])}),[f]);return s.a.createElement("div",{className:"panel_wrapper "+i},s.a.createElement("div",{className:"panel_top"},s.a.createElement(r.a,null,s.a.createElement(r.a.Item,null,u.name)),t),s.a.createElement("div",{className:"panel_main"},a))});i.defaultProps={className:""},a.a=i},322:function(e,a,t){},463:function(e,a,t){},464:function(e,a,t){},465:function(e,a,t){e.exports={homeWrap:"src-pages-home-index-homeWrap-2NfMD-T5",content:"src-pages-home-index-content-r1Um_tUL",title:"src-pages-home-index-title-3wMAwfVV",slider:"src-pages-home-index-slider-2MvPfmo9"}},832:function(e,a,t){"use strict";t.r(a);var n=t(267),c=t(271),s=t(268),r=t(272),l=t(0),i=t.n(l),o=t(57),m=t(259),u=t(49),f=t(830),d=t(382),E=(t(1),t(463),Math.PI,t(464),2*Math.PI*19),p=function(e){if(!e||isNaN(e))return"00:00";var a=("00"+Math.floor(e%60)).slice(-2),t=("00"+Math.floor(e/60)).slice(-2);return"".concat(t,":").concat(a)},N=function(){var e=Object(l.useState)(!1),a=Object(u.a)(e,2),t=(a[0],a[1],Object(l.useState)(!1)),n=Object(u.a)(t,2),c=n[0],s=n[1],r=Object(l.useState)(Object(d.b)({})),o=Object(u.a)(r,2),N=o[0],_=o[1],v=Object(l.useState)(0),g=Object(u.a)(v,2),h=g[0],b=g[1],j=Object(l.useState)(0),O=Object(u.a)(j,2),w=O[0],y=O[1],k=Object(l.useRef)(),x=Object(l.useRef)();Object(l.useEffect)((function(){P()}),[]);var P=function(){Object(m.a)({url:"/wyyApi/api/rand.music",method:"get",params:{sort:"\u70ed\u6b4c\u699c",format:"json"}}).then((function(e){var a;console.log(3444,e),(null===e||void 0===e?void 0:null===(a=e.data)||void 0===a?void 0:a.url)&&_(Object(d.c)(null===e||void 0===e?void 0:e.data))})).catch((function(e){console.warn(444,e)}))},C=function(){s(!1),clearInterval(k.current),b(0),y(0),P()},I=Object(l.useMemo)((function(){return console.log("name memo \u89e6\u53d1",h,w,w/h),h&&h?w/h:0}),[h,w]);return i.a.createElement("div",{className:"player_wrapper"},i.a.createElement("div",{className:"player_main"},i.a.createElement("div",{className:"p_main_info p_main_left"},i.a.createElement("dl",{className:"music_info_item music_title"},i.a.createElement("dt",{className:"m_icon"},i.a.createElement("i",{className:"iconfont iconyinyue"})," "),i.a.createElement("dd",{className:"m_value"},N.get("name"))),i.a.createElement("dl",{className:"music_info_item music_user"},i.a.createElement("dt",{className:"m_icon"},i.a.createElement("i",{className:"iconfont iconuser"})," "),i.a.createElement("dd",{className:"m_value"},N.get("artistsname"))),i.a.createElement("dl",{className:"music_info_item music_folder"},i.a.createElement("dt",{className:"m_icon"},i.a.createElement("i",{className:"iconfont iconwenjianjia"})," "),i.a.createElement("dd",{className:"m_value"},N.get("name"))),i.a.createElement("p",{className:"m_controlsBtn"},i.a.createElement("i",{className:"iconfont iconxunhuan"}),i.a.createElement("i",{className:"iconfont iconxiayishou1",onClick:C}))),i.a.createElement("div",{className:"p_main_center"},i.a.createElement("div",{className:"music_img"},i.a.createElement("img",{src:N.get("picurl"),alt:"",srcSet:""})),i.a.createElement("div",{className:"Play_pause_btns",onClick:function(){var e=x.current;if(!e)return console.warn("\u672a\u627e\u5230audio\u6807\u7b7e");var a=e.duration,t=e.currentTime;console.log(4444,a,t,x.current),e.play(),c?(e.pause(),s(!1),clearInterval(k.current)):(e.play(),s(!0),b(a),k.current=setInterval((function(){console.log(4333,e.currentTime),y(e.currentTime),t>=a&&clearInterval(k.current)}),1e3))}},c?i.a.createElement("i",{className:"iconfont iconzanting"}):i.a.createElement("i",{className:"iconfont iconbofang"})),i.a.createElement("svg",{className:"Play_pause_progress",width:"40",height:"40"},i.a.createElement("circle",{cx:"20",cy:"20",r:"19",strokeWidth:"4",stroke:"rgb(108, 105, 113)",fill:"black"}),i.a.createElement("circle",{strokeDasharray:c?E*I+" "+E*(1-I):"",id:"c1",cx:"20",cy:"20",r:"19",strokeWidth:"4",stroke:c?"rgb(129, 195, 0)":"#f30",fill:"none",transform:"matrix(0,-1,1,0,0,40)"}))),i.a.createElement("div",{className:"p_main_info p_main_right"},i.a.createElement("dl",{className:"music_info_item music_times"},i.a.createElement("dt",{className:"m_icon"},i.a.createElement("i",{className:"iconfont icontime"})," "),i.a.createElement("dd",{className:"m_value"},p(w)," / ",p(h))),i.a.createElement("dl",{className:"music_info_item music_types"},i.a.createElement("dt",{className:"m_icon"},i.a.createElement("i",{className:"iconfont iconxunhuan"})," "),i.a.createElement("dd",{className:"m_value"},"\u987a\u5e8f\u64ad\u653e")),i.a.createElement("dl",{className:"music_info_item music_lirc"},i.a.createElement("dt",{className:"m_icon"},i.a.createElement("i",{className:"iconfont iconicon_duihao-mian"})," "),i.a.createElement("dd",{className:"m_value"},"\u6b4c\u8bcd\u9690\u85cf")),i.a.createElement("p",{className:"m_controlsBtn"},i.a.createElement("i",{className:"iconfont iconxiayishou",onClick:C}),i.a.createElement("i",{className:"iconfont iconsuiji"})))),i.a.createElement("div",{className:"player_footer"},i.a.createElement("i",{className:"iconfont iconiconfontdaohanggonggao"}),i.a.createElement("div",{className:"progress_wrap"},i.a.createElement(f.a,{className:"progress",percent:100*I,strokeColor:"#81c300",trailColor:"#818680",strokeWidth:5,showInfo:!1}),i.a.createElement("span",{className:"spot",style:{left:100*I+"%"}}),i.a.createElement("audio",{ref:x,src:N.get("url")}," \u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 audio \u5143\u7d20")),i.a.createElement("i",{className:"iconfont iconxiazai"}),i.a.createElement("i",{className:"iconfont iconkaiguanguan"}),i.a.createElement("i",{className:"iconfont iconmulu"})))},_=t(321),v=t(465),g=t.n(v);t.d(a,"default",(function(){return h}));var h=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(c.a)(this,Object(s.a)(a).call(this,e))).submitFn=function(){m.a.get("/api/users").then((function(e){console.log(11,e)}))},t.render=function(){return i.a.createElement(_.a,null,i.a.createElement("div",{className:g.a.homeWrap},i.a.createElement("div",{className:g.a.content},i.a.createElement("h5",{className:g.a.title},"\u7f51\u9875\u6dfb\u52a0 Live2D \u770b\u677f\u5a18"),i.a.createElement("h5",null,"\u5f53\u524d\u9996\u9875"),i.a.createElement(o.a,{onClick:t.submitFn},"annu"),i.a.createElement(N,null)),i.a.createElement("div",{className:g.a.slider},i.a.createElement("img",{src:"/dance.webp"}))))},t.state={},t}return Object(r.a)(a,e),a}(i.a.Component)}}]);
//# sourceMappingURL=Page-home.61546334.chunk.js.map