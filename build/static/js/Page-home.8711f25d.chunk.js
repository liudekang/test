(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[11],{266:function(e,t,a){"use strict";var n=a(275),c=a.n(n).a.create({timeout:2e5,withCredentials:!0});c.interceptors.request.use((function(e){return console.log("request go",e),e}),(function(e){return console.log("\u8bf7\u6c42\u5931\u8d25"),Promise.reject(e)})),c.interceptors.response.use((function(e){return console.log("response get"),e}),(function(e){return console.log("\u54cd\u5e94\u5931\u8d25"),Promise.reject(e)})),c.interceptors.response.use((function(e){return 200===e.status&&e.data?e.data:e}),(function(e){return Promise.reject(e)})),t.a=c},298:function(e,t,a){"use strict";var n=a(6),c=a(0),r=a.n(c),o=a(450),s=a(80),i=(a(299),function(e){var t=e.children,a=e.PanelTopLeftEle,i=e.className,l=e.panelConfigs,m=Object(c.useState)({}),u=Object(n.a)(m,2),f=(u[0],u[1]);Object(c.useEffect)((function(){var e=window.location.pathname,t=s.a.routes.filter((function(t){return t.path===e}));t.length&&f(t[0])}),[f]);var d=Object(c.useMemo)((function(){return Array.isArray(l)&&l.length?r.a.createElement("div",{className:"panel-Breadcrumb-wrap"},r.a.createElement(o.a,null,l.map((function(e){return r.a.createElement(o.a.Item,{key:e.name},e.path?r.a.createElement("a",{href:e.path},e.name):e.name)})))):null}),[l]);return r.a.createElement("div",{className:"panel_wrapper "+i},r.a.createElement("div",{className:"panel_top"},d,a),r.a.createElement("div",{className:"panel_main"},t))});i.defaultProps={className:""},t.a=i},299:function(e,t,a){},470:function(e,t,a){},471:function(e,t,a){},476:function(e,t,a){e.exports={nav_Topper_Wrap:"src-components-Clock-index-nav_Topper_Wrap-1n6abHOC",nav_Topper_inner:"src-components-Clock-index-nav_Topper_inner-A0xsRTT5",nav_List:"src-components-Clock-index-nav_List-1ErR2hqv",nav_Item:"src-components-Clock-index-nav_Item-37FNLhOg",login_btn:"src-components-Clock-index-login_btn-VDs09nXX",nav_topper_right:"src-components-Clock-index-nav_topper_right-3jjRC8it"}},477:function(e,t,a){},478:function(e,t,a){e.exports={doc_list_wrap:"src-pages-home-components-DocLists-index-doc_list_wrap-3NCG2VbV",lists_ul:"src-pages-home-components-DocLists-index-lists_ul-3DfxAqp8",li_items:"src-pages-home-components-DocLists-index-li_items-2ng50RwF",titles:"src-pages-home-components-DocLists-index-titles-1N1jgDo4",contents:"src-pages-home-components-DocLists-index-contents-3a41wK6c",doc_info:"src-pages-home-components-DocLists-index-doc_info-3YwlHzyP"}},479:function(e,t,a){e.exports={homeWrap:"src-pages-home-index-homeWrap-2NfMD-T5",content:"src-pages-home-index-content-r1Um_tUL",title:"src-pages-home-index-title-3wMAwfVV",slider:"src-pages-home-index-slider-2MvPfmo9",calendar_Wrap:"src-pages-home-index-calendar_Wrap-3Z_iA9kC"}},808:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(0),r=a.n(c),o=a(159),s=a(810),i=a(266),l=a(153),m=a(806),u=a(335),f=a(3),d=a.n(f),p=(a(470),Math.PI,a(471),2*Math.PI*19),h=function(e){if(!e||isNaN(e))return"00:00";var t=("00"+Math.floor(e%60)).slice(-2),a=("00"+Math.floor(e/60)).slice(-2);return"".concat(a,":").concat(t)},v=function(){var e=Object(c.useState)(!0),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(c.useState)(!1),f=Object(n.a)(s,2),v=f[0],_=f[1],E=Object(c.useState)("loop"),g=Object(n.a)(E,2),N=g[0],b=g[1],w=Object(c.useState)(Object(u.b)({})),j=Object(n.a)(w,2),x=j[0],k=j[1],O=Object(c.useState)(0),y=Object(n.a)(O,2),C=y[0],M=y[1],S=Object(c.useState)(0),T=Object(n.a)(S,2),D=T[0],P=T[1],A=Object(c.useRef)(),I=Object(c.useRef)();Object(c.useEffect)((function(){return B(),function(){document.onmousemove=null,document.onmouseup=null,W()}}),[]);var W=function(){I.current.pause(),_(!1),clearInterval(A.current)},L=function(){var e=I.current;e.play(),_(!0),clearInterval(A.current),A.current=setInterval((function(){console.log(4333,e.currentTime),P(e.currentTime),e.currentTime>=e.duration&&(clearInterval(A.current),V())}),1e3)},B=function(){Object(i.a)({url:"/wyyApi/api/rand.music",method:"get",params:{sort:"\u70ed\u6b4c\u699c",format:"json"}}).then((function(e){var t;console.log(3444,e),(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.url)&&k(Object(u.c)(null===e||void 0===e?void 0:e.data)),setTimeout((function(){var t=I.current;console.log(3444,e,t,t.duration),t.duration?(M(t.duration),a||L()):(l.b.warning("\u6b4c\u66f2\u83b7\u53d6\u5931\u8d25\uff0c\u5373\u5c06\u81ea\u52a8\u83b7\u53d6\u4e0b\u4e00\u9996"),setTimeout((function(){V()}),100))}),300)})).catch((function(e){console.warn(444,e)}))},R=function(){o(!1),V()},V=function(){_(!1),clearInterval(A.current),M(0),P(0),B()},q=Object(c.useMemo)((function(){return C&&C?D/C:0}),[C,D]);return r.a.createElement("div",{className:"player_wrapper"},r.a.createElement("div",{className:"player_main"},r.a.createElement("div",{className:"p_main_info p_main_left"},r.a.createElement("dl",{className:"music_info_item music_title"},r.a.createElement("dt",{className:"m_icon"},r.a.createElement("i",{className:"iconfont iconyinyue"})," "),r.a.createElement("dd",{className:"m_value"},x.get("name"))),r.a.createElement("dl",{className:"music_info_item music_user"},r.a.createElement("dt",{className:"m_icon"},r.a.createElement("i",{className:"iconfont iconuser"})," "),r.a.createElement("dd",{className:"m_value"},x.get("artistsname"))),r.a.createElement("dl",{className:"music_info_item music_folder"},r.a.createElement("dt",{className:"m_icon"},r.a.createElement("i",{className:"iconfont iconwenjianjia"})," "),r.a.createElement("dd",{className:"m_value"},x.get("name"))),r.a.createElement("p",{className:"m_controlsBtn"},r.a.createElement("i",{className:d()({iconfont:!0,iconxunhuan:!0,iconActive:"loop"===N}),onClick:function(){return b("loop")}}),r.a.createElement("i",{className:"iconfont iconxiayishou1",onClick:R}))),r.a.createElement("div",{className:"p_main_center"},r.a.createElement("div",{className:d()({music_img:!0,play_music_img:v})},r.a.createElement("img",{src:x.get("picurl"),alt:"",srcSet:""})),r.a.createElement("div",{className:"Play_pause_btns",onClick:function(){if(o(!1),!I.current)return console.warn("\u672a\u627e\u5230audio\u6807\u7b7e");v?W():L()}},v?r.a.createElement("i",{className:"iconfont iconzanting"}):r.a.createElement("i",{className:"iconfont iconbofang"})),r.a.createElement("svg",{className:"Play_pause_progress",width:"40",height:"40"},r.a.createElement("circle",{cx:"20",cy:"20",r:"19",strokeWidth:"4",stroke:"rgb(108, 105, 113)",fill:"black"}),r.a.createElement("circle",{strokeDasharray:v?p*q+" "+p*(1-q):"",id:"c1",cx:"20",cy:"20",r:"19",strokeWidth:"4",stroke:v?"rgb(129, 195, 0)":"#f30",fill:"none",transform:"matrix(0,-1,1,0,0,40)"}))),r.a.createElement("div",{className:"p_main_info p_main_right"},r.a.createElement("dl",{className:"music_info_item music_times"},r.a.createElement("dt",{className:"m_icon"},r.a.createElement("i",{className:"iconfont icontime"})," "),r.a.createElement("dd",{className:"m_value"},h(D)," / ",h(C))),r.a.createElement("dl",{className:"music_info_item music_types"},r.a.createElement("dt",{className:"m_icon"},r.a.createElement("i",{className:d()({iconfont:!0,iconsuiji:"random"===N,iconxunhuan:"loop"===N})})," "),r.a.createElement("dd",{className:"m_value"},"random"===N?"\u968f\u673a\u64ad\u653e":"\u987a\u5e8f\u64ad\u653e")),r.a.createElement("dl",{className:"music_info_item music_lirc"},r.a.createElement("dt",{className:"m_icon"},r.a.createElement("i",{className:"iconfont iconicon_duihao-mian"})," "),r.a.createElement("dd",{className:"m_value"},"\u6b4c\u8bcd\u9690\u85cf")),r.a.createElement("p",{className:"m_controlsBtn"},r.a.createElement("i",{className:"iconfont iconxiayishou",onClick:R}),r.a.createElement("i",{className:d()({iconfont:!0,iconsuiji:!0,iconActive:"random"===N}),onClick:function(){return b("random")}})))),r.a.createElement("div",{className:"player_footer"},r.a.createElement("i",{className:"iconfont iconiconfontdaohanggonggao"}),r.a.createElement("div",{className:"progress_wrap"},r.a.createElement(m.a,{className:"progress",percent:100*q,strokeColor:"#81c300",trailColor:"#818680",strokeWidth:5,showInfo:!1}),r.a.createElement("span",{className:"spot",style:{left:100*q+"%"},onMouseDown:function(e){var t=e.target.parentNode.getBoundingClientRect().left,a=e.target.parentNode.offsetWidth;W(),document.onmousemove=function(e){var n=(e.pageX-t)/a*C;n<=0&&(n=0),n>=C&&(n=C),I.current.currentTime=n,P(n),L()},document.onmouseup=function(e){this.onmousemove=null,this.onmouseup=null}}}),r.a.createElement("audio",{ref:I,src:x.get("url")}," \u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 audio \u5143\u7d20")),r.a.createElement("i",{className:"iconfont iconxiazai"}),r.a.createElement("i",{className:"iconfont iconkaiguanguan"}),r.a.createElement("i",{className:"iconfont iconmulu"})))},_=a(298),E=(a(476),a(477),function(e){var t=e.width,a=e.height,o=e.padding,s=Object(c.useState)(!1),i=Object(n.a)(s,2);i[0],i[1];Object(c.useEffect)((function(){var t=l();return console.log("222222===",e,t),function(){clearInterval(t)}}),[]);var l=function(){return e(),setInterval((function(){e()}),1e3);function e(){var e=document.querySelector("canvas").getContext("2d"),n=Math.PI/180,c=new Date,r=c.getHours(),s=c.getMinutes(),i=c.getSeconds(),l=t,m=a,u=o;e.save(),e.clearRect(0,0,l,m),e.translate(l/2,m/2);var f=l/2-u,d=f-20,p=d-20,h=p+15,v=f-10,_=h-25;x(0,0,f,10,"black"),x(0,0,d,1,"black"),x(0,0,.1*f,1,"black");for(var E=0;E<60;E++)e.rotate(6*n),k(0,-d,3,"#ccc");for(E=1;E<=12;E++){e.save(),e.rotate(30*E*n),k(0,-d,5,"black");var g=p*Math.sin(30*E*n),N=-p*Math.cos(30*E*n);e.restore(),y(E,g,N,"black")}var b=30*((r=r<12?r:r-12)+s/60)*n,w=6*(s+i/60)*n,j=6*i*n;function x(t,a,c,r,o){e.beginPath(),e.strokeStyle=o,e.lineWidth=r,e.arc(t,a,c,0,360*n),e.stroke()}function k(t,a,c,r){e.beginPath(),e.fillStyle=r,e.arc(t,a,c,0,360*n),e.fill()}function O(t,a,n,c,r,o){e.beginPath(),e.strokeStyle=o,e.lineWidth=r,e.moveTo(t,a),e.lineTo(n,c),e.stroke()}function y(t,a,n,c){e.beginPath(),e.fillStyle=c,e.font="23px Microsoft Yahei",e.textAlign="center",e.textBaseline="middle",e.fillText(t,a,n)}e.save(),e.rotate(w),e.lineCap="round",e.shadowBlur=10,e.shadowColor="black",O(0,.3*h,0,-h,3,"black"),e.restore(),e.save(),e.rotate(b),e.lineCap="round",e.shadowBlur=5,e.shadowColor="black",O(0,.3*_,0,-_,10,"black"),e.restore(),e.save(),e.rotate(j),e.shadowBlur=8,e.shadowColor="black",O(0,.3*v,0,-v,1,"red"),k(0,0,5,"red"),e.restore(),e.restore()}};return r.a.createElement("div",{className:"xxxx"},r.a.createElement("canvas",{width:"320",height:"320"}))});E.defaultProps={height:320,width:320,padding:40};var g=E,N=a(478),b=a.n(N),w=function(e){return function(e,t,a){var n=new Date(e).valueOf(),c=new Date(t).valueOf();if(!e||!n)return null;var r=c||Date.now(),o=Math.round((r-n)/1e3),s=[],i=[],l=o%60,m=Math.floor(o/60);i.unshift(l),s.unshift(l+"\u79d2");var u=0;m&&(u=m%60,m=Math.floor(m/60),i.unshift(u),s.unshift(u+"\u5206\u949f"));var f=0;m&&(f=m%24,m=Math.floor(m/24),i.unshift(f),s.unshift(f+"\u5c0f\u65f6"));var d=0;m&&(d=m%24,m=Math.floor(m/24),i.unshift(d),s.unshift(d+"\u5929"));var p=0;m&&(p=m%30,m=Math.floor(m/30),i.unshift(p),i.unshift(p+"\u6708"));var h=0;return m&&(h=m,i.unshift(h),s.unshift(h+"\u5e74")),"arr"===a?i:"max"===a?s[0]:s}(e,Date.now(),"max")||"-"},j=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),o=(a[0],a[1],e.dataArr);return Object(c.useEffect)((function(){}),[]),r.a.createElement("div",{className:b.a.doc_list_wrap},r.a.createElement("ul",{className:b.a.lists_ul},Array.isArray(o)&&o.length?o.map((function(e){return r.a.createElement("li",{className:b.a.li_items,key:e.title},r.a.createElement("h5",{className:b.a.titles},e.title),r.a.createElement("div",{className:b.a.contents},(e.textValue||"").replace(/<[^(><).]*>/g,"")),r.a.createElement("div",{className:b.a.doc_info},r.a.createElement("span",null,e.username),"-",r.a.createElement("span",null,w(e.createdAt)),r.a.createElement("span",null,e.tags)))})):null))},x=a(479),k=a.n(x),O=[{name:"\u9996\u9875"}];t.default=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),i=a[0],l=a[1],m=Object(c.useState)([]),u=Object(n.a)(m,2),f=u[0],d=u[1];Object(c.useEffect)((function(){p()}),[]);var p=function(){l(!0);var e=window.Bmob.Query("blogs");e.order("-createdAt"),e.limit(10),e.find().then((function(e){l(e),console.log(118,e),d(e),setTimeout((function(){l(!1)}),200)}))};return r.a.createElement(_.a,{className:"page-home-panel-wrap",panelConfigs:O},r.a.createElement(o.a,{spinning:i},r.a.createElement("div",{className:k.a.homeWrap},r.a.createElement("div",{className:k.a.content},r.a.createElement(j,{dataArr:f})),r.a.createElement("div",{className:k.a.slider},r.a.createElement(s.a,{className:k.a.calendar_Wrap,fullscreen:!1}),r.a.createElement(g,null)))),r.a.createElement(v,null))}}}]);
//# sourceMappingURL=Page-home.8711f25d.chunk.js.map