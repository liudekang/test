(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[12],{238:function(e,a,r){"use strict";var t=r(252),n=r.n(t).a.create({timeout:2e5,withCredentials:!0});n.interceptors.request.use((function(e){return console.log("request go",e),e}),(function(e){return console.log("\u8bf7\u6c42\u5931\u8d25"),Promise.reject(e)})),n.interceptors.response.use((function(e){return console.log("response get"),e}),(function(e){return console.log("\u54cd\u5e94\u5931\u8d25"),Promise.reject(e)})),n.interceptors.response.use((function(e){return 200===e.status&&e.data?e.data:e}),(function(e){return Promise.reject(e)})),a.a=n},763:function(e,a,r){e.exports={login:"src-pages-login-index-login-3AR6N8jC",form_wrap:"src-pages-login-index-form_wrap-2XAK-sIW",reset_btn:"src-pages-login-index-reset_btn-1M34Vpbu"}},786:function(e,a,r){"use strict";r.r(a);var t=r(5),n=r(0),s=r.n(n),o=r(792),c=r(791),m=r(305),i=r(434),l=r(63),u=r(116),p=r(45),g=r(800),f=r(801),d=r(802),E=r(803),w=(r(238),r(763)),h=r.n(w),b=o.a.TabPane;a.default=function(e){var a=c.a.useForm(),r=Object(t.a)(a,1)[0],n=Object(u.a)(p.c),w=(n.state,n.dispatch);return s.a.createElement("div",{className:h.a.login},s.a.createElement(o.a,{defaultActiveKey:"login"},s.a.createElement(b,{tab:"\u767b\u5f55",key:"login"},s.a.createElement(c.a,{className:h.a.form_wrap,form:r,name:"login",onFinish:function(a){console.log("Success:",a),window.Bmob.User.login(a.username,a.password).then((function(r){console.log(r),m.b.success("\u767b\u5f55\u6210\u529f"),w({type:"change_userName",params:a.username}),setTimeout((function(){var a;null===e||void 0===e||null===(a=e.history)||void 0===a||a.goBack()}),500)})).catch((function(e){console.log(e),"string"===typeof e.error?m.b.warning(e.error.slice(0,300)):m.b.error("\u64cd\u4f5c\u5931\u8d25")}))}},s.a.createElement(c.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u6216\u8005\u624b\u673a\u53f7"}]},s.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u6216\u8005\u624b\u673a\u53f7",prefix:s.a.createElement(g.a,{className:"site-form-item-icon"})})),s.a.createElement(c.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},s.a.createElement(i.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",prefix:s.a.createElement(f.a,{className:"site-form-item-icon"})})),s.a.createElement(c.a.Item,null,s.a.createElement(l.a,{type:"primary",htmlType:"submit"},"\u767b\u5f55")))),s.a.createElement(b,{tab:"\u6ce8\u518c",key:"register"},s.a.createElement(c.a,{className:h.a.form_wrap,form:r,name:"register",onFinish:function(a){console.log(66,a),window.Bmob.User.register(a).then((function(r){m.b.success("\u6ce8\u518c\u6210\u529f"),w({type:"change_userName",params:a.username}),setTimeout((function(){var a;null===e||void 0===e||null===(a=e.history)||void 0===a||a.goBack()}),500)})).catch((function(e){"string"===typeof e.error?m.b.warning(e.error.slice(0,300)):m.b.error("\u64cd\u4f5c\u5931\u8d25"),console.warn(44,e)}))}},s.a.createElement(c.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]},s.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",prefix:s.a.createElement(g.a,{className:"site-form-item-icon"})})),s.a.createElement(c.a.Item,{name:"email",rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1"},{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]},s.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",prefix:s.a.createElement(d.a,{className:"site-form-item-icon"})})),s.a.createElement(c.a.Item,{name:"phone",rules:[{pattern:/^1[3456789]\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u624b\u673a\u53f7"},{required:!1,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}]},s.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",prefix:s.a.createElement(E.a,{className:"site-form-item-icon"})})),s.a.createElement(c.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},s.a.createElement(i.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",prefix:s.a.createElement(f.a,{className:"site-form-item-icon"})})),s.a.createElement(c.a.Item,null,s.a.createElement(l.a,{type:"primary",htmlType:"submit"},"\u6ce8\u518c"))))))}}}]);
//# sourceMappingURL=Page-login.6298bafa.chunk.js.map