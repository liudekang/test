{"version":3,"sources":["utils/request.js","pages/userList/index.css","pages/userList/index.js"],"names":["service","axios","create","timeout","withCredentials","interceptors","request","use","config","console","log","err","Promise","reject","response","status","data","error","module","exports","columns","title","dataIndex","key","UserList","useState","userList","Set_userList","useEffect","window","Bmob","Query","find","then","res","Array","isArray","catch","message","warning","slice","className","styles","login","dataSource"],"mappings":"6GAAA,aAGMA,EAHN,OAGgBC,EAAMC,OAAO,CAE3BC,QAAS,IACTC,iBAAiB,IAEnBJ,EAAQK,aAAaC,QAAQC,KAAI,SAAAC,GAG/B,OADAC,QAAQC,IAAI,aAAcF,GACnBA,KACN,SAAAG,GAED,OADAF,QAAQC,IAAI,4BACLE,QAAQC,OAAOF,MAGxBX,EAAQK,aAAaS,SAASP,KAAI,SAAAC,GAGhC,OADAC,QAAQC,IAAI,gBACLF,KACN,SAAAG,GAED,OADAF,QAAQC,IAAI,4BACLE,QAAQC,OAAOF,MAIxBX,EAAQK,aAAaS,SAASP,KAC5B,SAAAO,GAIE,OAAwB,MAApBA,EAASC,QAAkBD,EAASE,KAC/BF,EAASE,KAEXF,KAET,SAAAG,GACE,OAAOL,QAAQC,OAAOI,MAGXjB,O,oBCxCfkB,EAAOC,QAAU,CAAC,MAAQ,4C,iHCYpBC,EAAU,CACd,CACEC,MAAO,WACPC,UAAW,WACXC,IAAK,YAEP,CACEF,MAAO,qBACPC,UAAW,WACXC,IAAK,YAGP,CACEF,MAAO,eACPC,UAAW,QACXC,IAAK,SAEP,CACEF,MAAO,qBACPC,UAAW,QACXC,IAAK,SAEP,CACEF,MAAO,2BACPC,UAAW,YACXC,IAAK,aAEP,CACEF,MAAO,uCACPC,UAAW,YACXC,IAAK,cA2BMC,UAxBE,WAAO,IAAD,EACYC,mBAAS,IADrB,mBACdC,EADc,KACJC,EADI,KAiBrB,OAfAC,qBAAU,WACMC,OAAOC,KAAKC,MAAM,SAC1BC,OAAOC,MAAK,SAAAC,GACZC,MAAMC,QAAQF,IAChBP,EAAaO,MAEdG,OAAM,SAAA1B,GACPF,QAAQC,IAAIC,GACa,kBAAdA,EAAIM,MACbqB,IAAQC,QAAQ5B,EAAIM,MAAMuB,MAAM,EAAG,MAEnCF,IAAQrB,MAAM,iCAGjB,IAED,yBAAKwB,UAAWC,IAAOC,OACrB,oEACA,kBAAC,IAAD,CAAOvB,QAASA,EAASwB,WAAYlB","file":"static/js/Page-userList.849c7740.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\n// 创建axios实例\r\nconst service = axios.create({\r\n//   baseURL: process.env.BASE_API, // api的base_url\r\n  timeout: 200000, // 请求超时时间\r\n  withCredentials: true, // 选项表明了是否是跨域请求\r\n})\r\nservice.interceptors.request.use(config => {\r\n//   Toast.loading('加载中',1)              // loading组件，显示文字加载中，自动关闭延时1s\r\n  console.log('request go', config);\r\n  return config;\r\n}, err => {\r\n  console.log('请求失败')\r\n  return Promise.reject(err)\r\n})\r\n// 拦截响应\r\nservice.interceptors.response.use(config => {\r\n//   Toast.hide()                             // 销毁Toast组件\r\n  console.log('response get')\r\n  return config;\r\n}, err => {\r\n  console.log('响应失败')\r\n  return Promise.reject(err)\r\n})\r\n\r\n// respone拦截器\r\nservice.interceptors.response.use(\r\n  response => {\r\n    /**\r\n    * code为非000000是抛错 可结合自己业务进行修改\r\n    */\r\n    if (response.status === 200 && response.data) {\r\n      return response.data\r\n    }\r\n    return response\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\nexport default service\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"src-pages-userList-index-login-3Wi9GBE6\"};","/*\r\n * @Author: mikey.liudekang\r\n * @Date: 2019-09-17 20:58:00\r\n * @Last Modified by: mikey.liudekang\r\n * @Last Modified time: 2020-06-09 22:07:07\r\n */\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nimport { Table, Tag, message } from 'antd';\r\nimport service from 'Src/utils/request';\r\n\r\nimport styles from './index.css'\r\n\r\nconst columns = [\r\n  {\r\n    title: 'objectId',\r\n    dataIndex: 'objectId',\r\n    key: 'objectId',\r\n  },\r\n  {\r\n    title: '用户名',\r\n    dataIndex: 'username',\r\n    key: 'username',\r\n    // render: text => <a>{text}</a>,\r\n  },\r\n  {\r\n    title: '邮箱',\r\n    dataIndex: 'email',\r\n    key: 'email',\r\n  },\r\n  {\r\n    title: '手机号',\r\n    dataIndex: 'phone',\r\n    key: 'phone',\r\n  },\r\n  {\r\n    title: '创建时间',\r\n    dataIndex: 'createdAt',\r\n    key: 'createdAt',\r\n  },\r\n  {\r\n    title: '最近活跃时间',\r\n    dataIndex: 'updatedAt',\r\n    key: 'updatedAt',\r\n  },\r\n];\r\nconst UserList = () => {\r\n  const [userList, Set_userList] = useState([])\r\n  useEffect(() => {\r\n    const query = window.Bmob.Query('_User');\r\n    query.find().then(res => {\r\n      if (Array.isArray(res)) {\r\n        Set_userList(res)\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n      if (typeof err.error === 'string') {\r\n        message.warning(err.error.slice(0, 300))\r\n      } else {\r\n        message.error('操作失败')\r\n      }\r\n    });\r\n  }, [])\r\n  return (\r\n    <div className={styles.login} >\r\n      <h6>用户列表信息</h6>\r\n      <Table columns={columns} dataSource={userList} />\r\n    </div>\r\n  )\r\n}\r\nexport default UserList\r\n"],"sourceRoot":""}